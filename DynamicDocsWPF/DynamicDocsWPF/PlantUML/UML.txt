@startuml
Tag <|-- NamedTag
Tag <|-- Dialog
NamedTag <|-- BaseInputElement
NamedTag <|-- Process
NamedTag <|-- ProcessStep
BaseInputElement <|-- InputElement 
InputElement <|-- NumberInputBox
InputElement <|-- StudentDropdown
InputElement <|-- TeacherDropdown
InputElement <|-- TextInputBox

+abstract class Tag
{
    +Tag Parent { get; }
    +Tag(Tag parent)
}

+abstract class NamedTag
{
    +string Name { get; private set; }
    +string Description { get; private set; }

    ~NamedTag(Tag parent) : base(parent)
}

+abstract class InputElement<TControl, TValue>
{
    ~TControl UiElement { get; }

    ~Func<bool> IsValidForProcess { private get; set; }
    ~Func<bool> FulfillsObligatory { private get; set; }

    ~InputElement(Tag parent, TControl control)
    
    +abstract bool CheckValidForControl()  
    +abstract TValue GetValue()    
    +abstract void Clear()    
    
    +bool CheckValidForProcess()
    +bool CheckObligatory()
}

+abstract class BaseInputElement
{
    ~BaseInputElement(Tag parent)
}

+class NumberInputBox
{
    +NumberInputBox(parent : Tag, obligatory : bool = false, isValidForProcess : Func<bool> = null)
}

+class TextInputBox
{
    +TextInputBox(parent : Tag, obligatory : bool = false, isValidForProcess : Func<bool> = null)
}

+class StudentDropdown
{
    +StudentDropDown(parent : Tag, obligatory : bool = false, isValidForProcess : Func<bool> = null)
}

+class TeacherDropdown
{
    +TeacherDropDown(parent : Tag, obligatory : bool = false, isValidForProcess : Func<bool> = null)
}


+class Process
{
    -List<ProcessStep> _steps;

    +Process()

    +void AddStep(step : ProcessStep)
    +ProcessStep GetStepAtIndex(index : int)
}

+class ProcessStep
{
    -List<Dialog> _dialogs;

    +ProcessStep() 

    +void AddDialog(dialog : Dialog)

    +Dialog GetDialogAtIndex(index : int)
}
    
+class Dialog
{
    -List<BaseInputElement> _elements;

    +Dialog()
    +void AddElement(element : BaseInputElement)
    +BaseInputElement GetElementAtIndex(index : int)
    +BaseInputElement GetElementByName(name : string)
}
@enduml